<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vé của tôi | Echoes</title>
    <link rel="icon" type="image/png" href="assets/images/index/favicon.png">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/myTicket.css">
    <link rel="stylesheet" href="responsives/mobileMenuRe.css">
    
    <!-- Scripts -->
    <script src="scripts/authManager.js"></script>
    <script src="scripts/common.js"></script>
</head>
<body>
    <!-- HEADER -->
    <div id="header">
        <script>
            fetch('components/user_header.html')
                .then(res => res.text())
                .then(data => {
                    document.getElementById('header').innerHTML = data;
            
                    // Cập nhật UI header với AuthManager
                    if (window.authManager) {
                        authManager.updateHeaderUI();
                    }
            
                    // Load scroll header script
                    const scrollScript = document.createElement('script');
                    scrollScript.src = 'components/scroll_header.js';
                    document.body.appendChild(scrollScript);
                    
                    // Load header functionality script
                    const headerScript = document.createElement('script');
                    headerScript.src = 'components/header.js';
                    headerScript.onload = function() {
                        // Initialize mobile menu after header.js loads
                        setTimeout(() => {
                            if (window.mobileMenuFunctions && window.mobileMenuFunctions.init) {
                                window.mobileMenuFunctions.init();
                            }
                        }, 100);
                    };
                    document.body.appendChild(headerScript);
                });
            </script>
    </div>

    <!-- MAIN CONTENT -->
    <section class="my-ticket-wrapper">
        <h1 class="page-title">Vé của tôi</h1>

        <!-- TICKET LIST -->
        <div id="ticket-content"></div>
    </section>

    <!-- FOOTER -->
    <div id="footer"></div>
    
    <!-- LOGIN MODAL -->
    <div id="loginModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="close-modal" onclick="closeModal()">&times;</div>
            <iframe src="accounts/SignUp_LogIn_Form.html" class="login-iframe"></iframe>
        </div>
    </div>

    <!-- Scripts -->
    <script src="scripts/myTicket.js"></script>
</body>
</html>