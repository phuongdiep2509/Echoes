<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merchandise | Echoes</title>
<link rel="icon" type="image/png" href="assets/images/index/favicon.png">

<!-- CSS GỐC – KHÔNG ĐỤNG -->
<link rel="stylesheet" href="assets/css/base.css">
<link rel="stylesheet" href="assets/css/main.css">
<link rel="stylesheet" href="assets/css/merchandise.css">
<link rel="stylesheet" href="assets/css/gift-popup.css">
<link rel="stylesheet" href="responsives/gift-popupRe.css">

<!-- Nhúng AuthManager -->
<script src="scripts/authManager.js"></script>
</head>

<body>

<!-- Nhúng header -->
    <div id="header">
        <script>
            fetch('components/user_header.html')
                .then(res => res.text())
                .then(data => {
                    document.getElementById('header').innerHTML = data;
            
                    // Cập nhật UI header với AuthManager
                    if (window.authManager) {
                        authManager.updateHeaderUI();
                    }
            
                    const script = document.createElement('script');
                    script.src = 'components/scroll_header.js';
                    document.body.appendChild(script);
                });
        </script>
    </div>

  <!-- HERO -->
  <section class="page-hero">
    <div class="section-content">
      <div class="breadcrumb-pill"><a href="index.html" style="color: inherit; text-decoration: none;">TRANG CHỦ</a> / MERCHANDISE</div>
      <h1 class="page-title">TẤT CẢ SẢN PHẨM</h1>
      <p class="page-desc">
        Những sản phẩm Merch từ những sự kiện âm nhạc bạn yêu thích! Hãy sở hữu ngay những món đồ độc đáo để lưu giữ kỷ niệm đẹp từ các đêm nhạc tuyệt vời cùng Echoes.
      </p>
      <div class="soft-line"></div>
    </div>
  </section>

<div class="product-list" id="all-products"></div>

</div>
</section>
<div class="pager">
  <button class="pager-btn" id="pagerPrev" aria-label="Trang trước">‹</button>

  <div class="pager-dots" id="pagerDots">
    <!-- Dots sẽ được tạo từ JS -->
  </div>

  <button class="pager-btn" id="pagerNext" aria-label="Trang sau">›</button>
</div>

<div id="footer">
        <script>
        fetch('components/footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer').innerHTML = data;
        })
        .catch(error => console.error('Lỗi khi tải footer:', error));
        </script>
    </div>
    
    <div id="loginModal" class="modal-overlay" style="display: none;">
        <div class="modal-container" id="loginModal">
            <div class="close-modal" onclick="closeModal()">&times;</div>
            
            <iframe src="accounts/SignUp_LogIn_Form.html"></iframe>
        </div>
    </div>
    
    <!-- Modal Styles -->
    <style>
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.55);
            backdrop-filter: blur(6px);
            display: none;
            z-index: 99999;
        }
        
        .modal-overlay.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-container {
            width: 850px;
            max-width: 95%;
            border-radius: 10px;
            overflow: hidden;
            background: transparent;
            box-shadow: none;
        }
        
        iframe {
            width: 100%;
            height: 550px;
            background: transparent;
            border-radius: 10px;
            border: none;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            z-index: 100000;
            background: rgba(255, 255, 255, 0.9);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 1);
            color: #333;
        }
    </style>
    
<!----Nhúng JS --->
  <script type="module" src="scripts/merchandise.js"></script>
  <script src="scripts/gift-popup.js"></script>

  <!-- Modal Scripts -->
    <script>
        function openModal() {
            document.getElementById("loginModal").classList.add("show");
        }
        
        function closeModal() {
            document.getElementById("loginModal").classList.remove("show");
        }
        
        // Close modal when clicking outside
        document.getElementById("loginModal").addEventListener("click", function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>

</body>
</html>