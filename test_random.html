<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Test Random Gift System</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .result { margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; }
        button { padding: 10px 20px; margin: 5px; font-size: 16px; }
    </style>
</head>
<body>
    <h1>ğŸ Test Random Gift System</h1>
    <p>Há»‡ thá»‘ng random quÃ  vá»›i tá»‰ lá»‡:</p>
    <ul>
        <li>Voucher 500.000Ä‘ - 10%</li>
        <li>Ão thun Noel - 20%</li>
        <li>MÃ³c khÃ³a lÆ°u niá»‡m - 30%</li>
        <li>Lá»i chÃºc may máº¯n - 40%</li>
    </ul>

    <button onclick="testSingle()">ğŸ² Random 1 láº§n</button>
    <button onclick="testMultiple()">ğŸ² Random 10 láº§n</button>
    <button onclick="clearResults()">ğŸ§¹ XÃ³a káº¿t quáº£</button>

    <div id="results"></div>

    <script>
        // Copy exact random system from opensecretbox.js
        const gifts = [
            { 
                name: "ğŸ« Voucher 500.000Ä‘", 
                chance: 10,
                description: "Voucher giáº£m giÃ¡ trá»‹ giÃ¡ 500.000Ä‘ cho vÃ© concert vÃ  nháº¡c sá»‘ng",
                code: "ECHOES500"
            },
            { 
                name: "ğŸ‘• Ão thun Noel", 
                chance: 20,
                description: "Ão thun GiÃ¡ng sinh Ä‘á»™c quyá»n vá»›i thiáº¿t káº¿ Ä‘áº·c biá»‡t tá»« Echoes",
                code: "NOEL2024"
            },
            { 
                name: "ğŸ”‘ MÃ³c khÃ³a lÆ°u niá»‡m", 
                chance: 30,
                description: "MÃ³c khÃ³a kim loáº¡i cao cáº¥p vá»›i logo Echoes vÃ  sticker Ä‘i kÃ¨m",
                code: "KEYCHAIN"
            },
            { 
                name: "ğŸ„ Lá»i chÃºc may máº¯n", 
                chance: 40,
                description: "Lá»i chÃºc Ä‘áº·c biá»‡t tá»« Ä‘á»™i ngÅ© Echoes cÃ¹ng voucher 10% láº§n sau",
                code: "LUCKY10"
            }
        ];

        function randomGift() {
            // Táº¡o sá»‘ random thá»±c sá»± tá»« 0-100
            const rand = Math.random() * 100;
            
            let sum = 0;
            for (const gift of gifts) {
                sum += gift.chance;
                if (rand < sum) {
                    return gift;
                }
            }
            // Fallback vá» quÃ  cuá»‘i cÃ¹ng
            return gifts[gifts.length - 1];
        }

        function testSingle() {
            const gift = randomGift();
            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'result';
            resultDiv.innerHTML = `
                <strong>${gift.name}</strong><br>
                <small>${gift.description}</small><br>
                <code>MÃ£: ${gift.code}</code>
            `;
            resultsDiv.appendChild(resultDiv);
        }

        function testMultiple() {
            const counts = {};
            gifts.forEach(gift => counts[gift.name] = 0);

            for (let i = 0; i < 10; i++) {
                const gift = randomGift();
                counts[gift.name]++;
            }

            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'result';
            resultDiv.innerHTML = `
                <h3>ğŸ“Š Káº¿t quáº£ 10 láº§n random:</h3>
                ${Object.entries(counts).map(([name, count]) => 
                    `<div>${name}: ${count} láº§n</div>`
                ).join('')}
            `;
            resultsDiv.appendChild(resultDiv);
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
    </script>
</body>
</html>